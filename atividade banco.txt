#1
CREATE DATABASE db_escola;
use db_escola;


#2
CREATE TABLE alunos(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
nascimento DATE,
matricula VARCHAR(255)
);


#3
CREATE TABLE professores(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
formacao VARCHAR(255)
);


#4
CREATE TABLE disciplinas (
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
carga_horaria INT
);


#5
CREATE TABLE turmas(
id INT AUTO_INCREMENT PRIMARY KEY,
nome_turma VARCHAR(255),
ano int,
professor_id INT,
FOREIGN KEY (professor_id) REFERENCES professores(id)
);


#6
CREATE TABLE matriculas(
id INT AUTO_INCREMENT PRIMARY KEY,
nota INT,
frequencia INT,
aluno_id INT,
disciplina_id INT,
professor_id INT,
FOREIGN KEY (aluno_id) REFERENCES alunos(id),
FOREIGN KEY (disciplina_id) REFERENCES disciplinas(id),
FOREIGN KEY (professor_id) REFERENCES professores(id)
);


#7
INSERT INTO professores(nome,formacao)
VALUES('Cleiton','Professor de banco de dados')
	  ,('Thiago','Professor de PW2')
		,('Sueli','Professora de Sistemas Embarcados');
        
INSERT INTO disciplinas(nome,carga_horaria)
VALUES ('Desenvolvimento de Sistemas','1500')
	   ,('Banco de dados','750')
	    ,('Sistemas Embarcados','750');
        
INSERT INTO alunos(nome,nascimento,matricula)
VALUES ('Raí Vicencio','20060527','N20060627')
		,('Flavio Henrique','20061204','N20481942')
         ,('Pedro Menezes','20080517','N12934924')
		  ,('Lukas Miller','20020514','N58234824')
           ,('Ana Beatriz','20060528','N18441249');
           
           
#8
INSERT INTO turmas(nome_turma,ano,professor_id)
VALUES('Turma 3A','2025',1),
	  ('Turma 3B','2025',2),
	  ('Turma 3C','2025',3);
      
INSERT INTO matriculas(nota,frequencia,aluno_id,disciplina_id,professor_id)
VALUES('10','98','1','1','2'),
	   ('8','68','2','2','1'),
		('6','76','3','1','3'),
		 ('9','88','4','3','2'),
		  ('3','46','5','3','3');


#9
CREATE TABLE boletins(
id INT AUTO_INCREMENT PRIMARY KEY,
nota INT,
frequencia INT,
aluno_id INT,
disciplina_id INT,
professor_id INT,
FOREIGN KEY(aluno_id) REFERENCES alunos(id),
FOREIGN KEY(disciplina_id) REFERENCES disciplinas(id),
FOREIGN KEY(professor_id) REFERENCES professores(id)
);


#10
ALTER TABLE alunos ADD telefone INT(11);
ALTER TABLE alunos DROP COLUMN matricula;


#11
CREATE DATABASE db_biblioteca;
USE db_biblioteca;


#12
CREATE TABLE autores(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
nascionalidade VARCHAR(255)
);


#13
CREATE TABLE livros(
id INT AUTO_INCREMENT PRIMARY KEY,
titulo VARCHAR(255),
ano_publicacao INT,
autor_id INT,
FOREIGN KEY (autor_id) REFERENCES autores(id)
);


#14
CREATE TABLE clientes(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
cpf INT(12)
);


#15
CREATE TABLE emprestimos(
id INT AUTO_INCREMENT PRIMARY KEY,
data_emprestimo DATE,
cliente_id INT,
livro_id INT,
FOREIGN KEY (cliente_id) REFERENCES clientes(id),
FOREIGN KEY (livro_id) REFERENCES livros(id)
);


#16
INSERT INTO autores(nome,nascionalidade)
VALUES ('Raí Vicencio','Brasil'),
		('Ethan Johnson','França'),
        ('Hana Kim','Coreia do Sul');

INSERT INTO livros(titulo,ano_publicacao,autor_id)
VALUES ('Sombras do Amanha','2020','1'),
		('O jardim de inverno','2019','2'),
        ('Entre Estrelas','2024','3');


INSERT INTO clientes(nome,cpf)
VALUES ('Mariana Oliveira','1234567890'),
		('Rafael Souza','1234567891'),
		 ('Camila Ferreia','1234567892');
         

#17
INSERT INTO emprestimos(data_emprestimo,cliente_id,livro_id)
VALUES('20250506','1','2'),
		('20240827','2','1'),
		 ('20250726','3','3');


#18

#ta faltando a tabela funcionarios, ent vou criar uma qualquer aq
CREATE TABLE funcionarios(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
cpf INT
);

CREATE TABLE reservas(
id INT AUTO_INCREMENT PRIMARY KEY,
data_reserva DATE,
cliente_id INT,
livro_id INT,
funcionario_id INT,
FOREIGN KEY (cliente_id) REFERENCES clientes(id),
FOREIGN KEY (livro_id) REFERENCES livros(id),
FOREIGN KEY (funcionario_id) REFERENCES funcionarios(id)
);


#19
ALTER TABLE clientes ADD telefone INT;


#20
ALTER TABLE autores DROP COLUMN nascionalidade;
ALTER TABLE livros MODIFY ano_publicacao SMALLINT;


#21
CREATE DATABASE db_hospital;
use db_hospital;


#22
CREATE TABLE pacientes(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
nascimento DATE,
cpf INT
);


#23
CREATE TABLE medicos(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
especialidade VARCHAR(255)
);


#24
CREATE TABLE consultas(
id INT AUTO_INCREMENT PRIMARY KEY,
data_consulta DATE,
paciente_id INT,
medico_id INT,
FOREIGN KEY (paciente_id) REFERENCES pacientes(id),
FOREIGN KEY (medico_id) REFERENCES medicos(id)
);


#25
CREATE TABLE receitas(
id INT AUTO_INCREMENT PRIMARY KEY,
descricao VARCHAR(255),
consulta_id INT,
FOREIGN KEY (consulta_id) REFERENCES consultas(id)
);


#26
INSERT INTO pacientes(nome,nascimento,cpf)
VALUES ('Raí Vicencio','20060527','1234567890'),
		('Pedro Henrique','20050925','1234567891'),
         ('Ana Maria','19960328','1234567892');

INSERT INTO medicos(nome,especialidade)
VALUES ('Vicente Silva','Clinico Geral'),
		('Mariana Menezes','Pediatra'),
         ('Lucas Carvalho','Oftamologista');

INSERT INTO consultas(data_consulta,paciente_id,medico_id)
VALUES ('20250827','1','1'),
		('20240624','2','2'),
         ('20251015','3','3');

INSERT INTO receitas(descricao,consulta_id)
VALUES ('Paciente esta gripado','1'),
		('Paciente caiu e se machucou','2'),
         ('Paciente esta com catarata','3');
         

#27
CREATE TABLE salas(
id INT AUTO_INCREMENT PRIMARY KEY,
numero INT,
andar INT
);


#28
CREATE TABLE atendimentos(
id INT AUTO_INCREMENT PRIMARY KEY,
data_atendimentos DATE,
paciente_id INT,
medico_id INT,
sala_id INT,
FOREIGN KEY (paciente_id) REFERENCES pacientes(id),
FOREIGN KEY (medico_id) REFERENCES medicos(id),
FOREIGN KEY (sala_id) REFERENCES salas(id)
);


#29
ALTER TABLE pacientes ADD telefone INT;


#30 
ALTER TABLE pacientes DROP COLUMN cpf;


#31
CREATE DATABASE db_empresa;
USE db_empresa;


#32
CREATE TABLE departamentos(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
localizacao VARCHAR(255)
);


#33
CREATE TABLE funcionarios(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
cargo VARCHAR(255),
departamento_id INT,
FOREIGN KEY (departamento_id) REFERENCES departamentos(id)
);


#34
CREATE TABLE projetos(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
orcamento DECIMAL(10,2)
);


#35
CREATE TABLE alocacoes (
id INT AUTO_INCREMENT PRIMARY KEY,
horas_semanais INT,
funcionario_id INT,
projeto_id INT,
FOREIGN KEY (funcionario_id) REFERENCES funcionarios(id),
FOREIGN KEY (projeto_id) REFERENCES projetos(id)
);


#36
INSERT INTO departamentos(nome,localizacao)
VALUES ('Finaceiros','Rua das Flores, 123 – Jardim Primavera, São Paulo – SP'),
		('Logistica','Rua do Horizonte, 303 – Centro, Porto Alegre – RS'),
         ('Contabilidade','Rua do Mar, 606 – Barra, Salvador – BA');

INSERT INTO funcionarios(nome,cargo,departamento_id)
VALUES ('Jose Almeda','Anaista Finceiro','1'),
		('Guilherme Santos','Planejador de Estoque','2'),
         ('Livia Pereira','Contadora','3');

INSERT INTO projetos(nome,orcamento)
VALUES ('Projeto Financias','100500'),
		('Projeto Revolução','230700'),
         ('Projeto Subcrescente','1600400');
         
         
#37
INSERT INTO alocacoes(horas_semanais,funcionario_id,projeto_id)
VALUES ('15','1','1'),
		('20','2','2'),
		 ('8','3','3');
         

#38

#problema dnv sem a tabela gerentes, vou criar uma simples
CREATE TABLE gerentes(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
telefone INT
);

CREATE TABLE tarefas(
id INT AUTO_INCREMENT PRIMARY KEY,
descricao VARCHAR(255),
projeto_id INT,
funcionario_id INT,
gerente_id INT,
FOREIGN KEY (projeto_id) REFERENCES projetos(id),
FOREIGN KEY (funcionario_id) REFERENCES funcionarios(id),
FOREIGN KEY (gerente_id) REFERENCES gerentes(id)
);


#39
ALTER TABLE funcionarios ADD salario DECIMAL(10,2);


#40
ALTER TABLE projetos DROP COLUMN orcamento;


#41
CREATE DATABASE db_hotel;
USE db_hotel;


#42
CREATE TABLE hospedes(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
cpf INT,
telefone INT
);


#43
CREATE TABLE quartos(
id INT AUTO_INCREMENT PRIMARY KEY,
numero INT,
tipo VARCHAR(100),
preco_diaria INT
);


#44
CREATE TABLE reservas(
id INT AUTO_INCREMENT PRIMARY KEY,
data_entrada DATE,
data_saida DATE,
hospede_id INT,
quarto_id INT,
FOREIGN KEY (hospede_id) REFERENCES hospedes(id),
FOREIGN KEY (quarto_id) REFERENCES quartos(id)
);


#45
CREATE TABLE pagamentos(
id INT AUTO_INCREMENT PRIMARY KEY,
metodo_pagamento VARCHAR(255),
valor_total DECIMAL(10,2),
reserva_id INT,
FOREIGN KEY (reserva_id) REFERENCES reservas(id)
);


#46
CREATE TABLE funcionarios(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255),
cargo VARCHAR(255)
);


#47
CREATE TABLE servicos_extras(
id INT AUTO_INCREMENT PRIMARY KEY,
descricao VARCHAR(255),
valor DECIMAL(10,2),
reserva_id INT,
funcionario_id INT,
pagamento_id INT,
FOREIGN KEY (reserva_id) REFERENCES reservas(id),
FOREIGN KEY (funcionario_id) REFERENCES funcionarios(id),
FOREIGN KEY (pagamento_id) REFERENCES pagamentos(id)
);


#48
INSERT INTO hospedes(nome,cpf,telefone)
VALUES ('Raí Vicencio','1234567890','345678941'),
		('João Pedro','1234567891','345678901'),
         ('Nicole Braga','1234567892','567890123');

INSERT INTO quartos(numero,tipo,preco_diaria)
VALUES ('3','Quarto para uma pessoa','300'),
		('6','Quarto para uma pessoa','300'),
         ('14','Quarto para duas pessoas','500');

INSERT INTO reservas(data_entrada,data_saida,hospede_id,quarto_id)
VALUES ('20250527','20250528','1','2'),
		('20210410','20210414','3','3'),
         ('20251013','20251015','2','1');

INSERT INTO pagamentos(metodo_pagamento,valor_total,reserva_id)
VALUES ('Pix','300','1'),
		('Boleto','500','2'),
         ('Cartão de Credito','300','3');


#49
ALTER TABLE hospedes ADD email VARCHAR(100);
ALTER TABLE quartos MODIFY preco_diaria DECIMAL (8,2);


#50
ALTER TABLE hospedes DROP COLUMN cpf;


#testes para ver se ta ttudo funcionando:
DROP DATABASE db_escola;
DROP DATABASE db_biblioteca;
DROP DATABASE db_hospital;
DROP DATABASE db_empresa;
DROP DATABASE db_hotel;

#testes aq fi
#exemplo de botar valores
insert into alunos(nascimento) VALUES ('21032021');

#puxar dados da tabela
select * from medicos;

#exemplo de deletar info das tabelas
TRUNCATE TABLE clientes;

#deletar o banco todo(testar se ta funcionando ne)
DROP DATABASE db_biblioteca;

